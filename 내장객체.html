<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내장객체</title>
</head>
<body>
    <script>
        // 내장객체 => 자바스크립트 내에 미리 작성되있는 객체
        // 객체를 생성하면 미리 작성된 메소드를 사용할 수 있다

        // Array (배열)
        let array = ["HTML", "CSS", "JavaScript"];

        // join() => 문자로 연결
        document.write(array.join("/"));

        // 내장객체의 메소드를 찾기위해 mdn과 같은 사이트 사용
        // prototype. => 객체를 생성하고 객체를 통해 사용할 수 있는 메소드
        // prototype.이 없는 메소드 => 생성자함수 이름을 통해서 사용하는 메소드
        // 자주 사용하는 객체는 생성자함수 형태를 안쓰기도 한다.
        // 대표적인 예시 =>  Array [] => new Array()로도 작성가능

        let arrayTest = new Array(1,2,3);
        document.write(arrayTest);

        document.write("<hr>");
        // concat();  두 배열의 결합
        // 두개의 배열을 합해서 return
        let arrayConcat = array.concat(["일","이","삼"]);
        let arrayCopy = array.concat(["일","이","삼"]);
        document.write(`<p>${arrayConcat}</p>`);
        document.write(`<p>${array}</p>`);
        document.write(`<p>${arrayCopy}</p>`);

        // 기초자료형의 복사
        let a = 1;
        let b = a; // 대입연산자 사용해서 복사
        b++; // b는 a와 별개의 값을 갖는다
        document.write(a,b);

        // 배열 값의 복사
        // 배열의 경우, 요소의 값을 여러개 가지고 있기때문에
        // 배열의 변수 이름에는 주소 값이 들어가 있다
        // (변수의 이름으로 요소들이 출력되는 것은 자바스크립트에서 제공)
        // 그래서 변수를 할당하면 배열의 요소가 들어가는 것이 아닌, 주소전달

        // 객체는 객체가 담긴 변수이름으로 복사할 수 없다
        // 메소드나 그 안에 있는 값을 꺼내쓰는 연산자를 이용해서 복사

        let arrayCopy1 = array;
        array.push("새로운 언어");
        document.write(`<p>${array}</p>`);
        document.write(`<p>${arrayCopy1}</p>`);

        // 1) 메소드를 이용해서 복사
        let arrayCopy2 = array.concat();
        arrayCopy2.push("React");
        document.write(`<p>${arrayCopy2}</p>`);
        document.write(`<p>${array}</p>`);

        // 2) 값을 꺼내쓰는 연산자를 이용해서 복사
        // ... => 스프레드 연산자 : 객체나 배열의 값을 꺼내서 반환
        let arrayCopy3 = [...array];
        arrayCopy3.push("React");
        document.write(`<p>${arrayCopy3}</p>`);
        document.write(`<p>${array}</p>`);


        // splice() => 지정된 배열의 값을 삭제하거나 추가
        array.splice(1, 1); // (시작index값, 삭제할 수)
        document.write(`<p>${array}</p>`);

        // push(), pop(), splice() => array의 값을 직접 바꿈

        array.pop()
        document.write(`<p>${array}</p>`);




        /////////////////////////////////////////////////////////////

        // Array 객체 실습

        let NumArray = [3,6,7,2,7,3,1,10];
        // NumArray.sort(compare(a,b));
        NumArray.sort(compare); // 함수이름을 통해서 함수전달 또는 인수값으로 익명함수작성
        document.write(`<p>${NumArray}</p>`)

        // 숫자 크기 순서에 맞춰 정렬을 하기위해서는 정렬함수를 작성하여 사용
        // 정렬하는 함수 => a와 b값을 비교해서 큰 값을 나중에 출력
        // 1,2,3,4 (순서로 출력)
        function compare(a,b){
            if(a>b){
                return 1; // 나중에 출력
            }else if(a<b){
                return -1; // 먼저 출력
            }else{
                return 0; // 동일
            }
        }
        compare();




        // pop => 배열의 마지막 요소를 제거하고, return값으로 전달
        let flowerArray = ["튤립","장미","국화"];
        console.log(flowerArray.pop());
        console.log(flowerArray.pop());
        console.log(flowerArray.pop());



        //////////////////////////////////////////////////////////////

        // string 문자열 => String은 배열과 유사
        let string = "홍길동";
        // charAt()
        document.write(`<p>${string.charAt(1)}</p>`) // 길
        document.write(`<p>${string[1]}</p>`) // 길

        // match() => 지정된 문자와 동일한 문자찾기
        // 값이 있을 때는 그 값을 return하고 없으면 null
        document.write(`<p>${string.match("홍")}</p>`) // 홍
        document.write(`<p>${string.match("향")}</p>`) // null

        // search() => 지정된 문자와 동일한 문자찾기
        // 값이 있을 때는 그 인덱스값 / return 없으면 -1
        document.write(`<p>${string.search("홍")}</p>`) // 0 : 문자열의 인덱스값
        document.write(`<p>${string.search("길")}</p>`) // 1 : 문자열의 인덱스값
        document.write(`<p>${string.search("홍길")}</p>`) // 0 : 문자열의 인덱스값
        document.write(`<p>${string.search("향")}</p>`) // -1 : 문자열의 인덱스값 없음

        // replace(a,b) => a의 값을 b로 대체
        // string값은 그대로 두고 결과값만 바꿔서 출력
        string.replace("홍", "김");
        document.write(`<p>${string}</p>`); // 홍길동
        document.write(`<p>${string.replace("홍","김")}</p>`); // 김길동

        // split() => 문자열을 자르는 메소드
        // return값으로 배열을 돌려준다
        // 전화번호, 주민등록번호 등과 같이 기호로 나뉘는 문자열에 사용
        string.split()
        document.write(`<p>${string.split("길")}</p>`); // 홍,동
        document.write(`<p>${Array.isArray(string.split("길"))}</p>`); //true



        ///////////////////////////////////////////////////////////////////////////////

        // String객체 실습 - 가운데 글자를 *로 변경해서 출력

        let name = "홍길동";
        let centerChar = name.charAt(1);
        let replaceName = name.replace(centerChar, "*");
        let replaceNameAll = name.replaceAll(centerChar, "*");
        
        document.write(`<p>${centerChar}</p>`); // 길

        document.write(`<p>${replaceName}</p>`); // 홍*동

        document.write(`<p>${replaceNameAll}</p>`); // 홍홍홍 => ***


        ///////////////////////////////////////////////////////////////////////////////

        // Date객체 - 날짜와 시간

        let today = new Date();
        
        // document.write(`<p>${today.getFullYear()}</p>`);
        // document.write(`<p>${today.getMinutes()}</p>`);
        // 날짜
        // getMonth는 +1 해주어야한다
        document.write(`<p>${today.getFullYear()}년${today.getMonth()+1}월${today.getDate()}일</p>`);
        // 시간
        document.write(`<p>${today.getHours()}시${today.getMinutes()}분${today.getSeconds()}초</p>`);

        // 요일 일~토(0~6) => 배열[인덱스] / 조건문
        document.write(`<p>${today.getDay()}</p>`)

        // getTime => 시작시간과 끝시간을 이용해서 전체 걸린시간 체크
        document.write(`<p>${today.getTime()}</p>`)

        // ex) for문을 실행할때 걸리는 시간
        let startTime = new Date();
        for(let i=0; i<1000; i++){
            console.log(i);
        }
        let endTime = new Date();
        document.write(`<p>${endTime-startTime}</p>`)


        ////////////////////////////////////////////////////////////////////////////////

        // date객체의 set메소드
        today.setFullYear(2020);
        document.write(`<p>${today.getFullYear()}</p>`)

        // UTC날짜 메소드 : 범용 표준 시간대 날짜
        document.write(`<p>${today.getUTCHours()}시${today.getUTCMinutes()}분</p>`)



        /////////////////////////////////////////////////////////////////////////////////

        // Date 객체 실습

        let today2 = new Date();
        console.log(`${today2.getHours()}시${today2.getMinutes()}분${today2.getSeconds()}초`);


        /////////////////////////////////////////////////////////////////////////////////

        
        document.write(`<p>${Math.random()}</p>`);
        document.write(`<p>${Math.max(1,3,5)}</p>`);
        
        //랜덤한 수를 정수로 바꿔서 사용하기
        //Mart.random()에 원하는 범위의 수를 곱해서 사용
        document.write(Math.random()*5);
        document.write(`<p>${Math.floor(Math.random()*5)+1}</p>`);

        /////////////////////////////////////////////////////////////////////////////////
        
        // Math객체의 메서드 실습

        let r = 3;
        document.write(`원의 넓이는 ${r*r*Math.PI}`);

        
        /////////////////////////////////////////////////////////////////////////////////
        
        // number => 숫자와 관련된 객체
        // number로 접근해서 쓰는 메소드와 속성이 있고 객체를 만들어서 접근하는 메소드가 있다
        document.write(`<p>${Number.isNaN(NaN)}</p>`);

        let num = 10.52;
        document.write(`<p>${num.toFixed()}</p>`);  // 반올림되서 11
        document.write(`<p>${num.toFixed(1)}</p>`);  // 소수점 1자리까지
        document.write(`<p>${num.toFixed(2)}</p>`);  // 소수점 2자리까지
        
        let num2 = new Number(10.56); // 객체로 생성
        document.write(`<p>${num2.toFixed(1)}</p>`);  // 소수점 2자리까지

        // 래퍼객체
        // 숫자, boolean, 문자열과 같은 기초자료형은 메소드를 사용할 수 없지만
        // 객체의 메소드를 사용하기 위해 자바스크립트에서 메소드를 사용하기전에 
        // 임시객체로 만들어서 메소드에 접근한다

        // 배열 객체
        // toString : 객체의 담은 변수이름을 호출했을때 출력할 문자열을 작성
        let arrayString = [1,2,3,4];
        // document.write(`<p>${arrayString}</p>`);
        // document.write(`<p>${arrayString.toString()}</p>`);
        // 객체의 이름으로 작성했을때 출력하고 싶은 내용 수정
        arrayString.toString = function() {return "배열"};

        let object = {
            name : "객체",
            value: "값",
            // toString 메소드를 작성하면 객체의 변수이름을 호출했을 때 리턴할 내용을 정할 수 있다
            toString : function(){return this.value}
        };
        document.write(`<p>${object}</p>`);

    </script>
</body>
</html>